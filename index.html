<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>글자 놀이</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); min-height: 100vh; padding: 10px; }
.container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.header { text-align: center; margin-bottom: 30px; }
.header h1 { color: #2c3e50; font-size: 2.2em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
.header p { color: #7f8c8d; font-size: 1.1em; }
.upload-section { background: #f8f9fa; border-radius: 15px; padding: 20px; margin-bottom: 30px; border: 3px dashed #3498db; }
.upload-group { margin-bottom: 20px; }
.upload-group h3 { color: #2c3e50; margin-bottom: 15px; font-size: 1.2em; text-align: center; }
.file-input-wrapper { position: relative; display: block; width: 100%; margin-bottom: 10px; }
.file-input { opacity: 0; width: 100%; height: 50px; position: absolute; cursor: pointer; }
.file-input-button { display: flex; align-items: center; justify-content: center; width: 100%; height: 50px; background: #3498db; color: white; border-radius: 10px; font-size: 1em; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
.file-input-button:hover { background: #2980b9; transform: translateY(-2px); }
.add-word-btn { background: #27ae60; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; width: 100%; margin-top: 15px; transition: all 0.3s ease; }
.add-word-btn:hover { background: #219a52; transform: translateY(-2px); }
.words-display { margin-top: 30px; }
.words-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
.word-card { background: white; border-radius: 20px; padding: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 3px solid #3498db; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden; }
.word-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.15); border-color: #e74c3c; }
.word-image { width: 100%; height: 250px; object-fit: cover; border-radius: 15px; margin-bottom: 15px; border: 2px solid #ecf0f1; }
.word-title { font-size: 1.8em; font-weight: bold; color: #2c3e50; text-align: center; margin-bottom: 15px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
.delete-btn { background: #95a5a6; color: white; border: none; padding: 10px 15px; border-radius: 50%; font-size: 1.2em; cursor: pointer; transition: all 0.3s ease; position: absolute; top: 10px; right: 10px; }
.delete-btn:hover { background: #e74c3c; transform: scale(1.1); }
.empty-state { text-align: center; padding: 50px; color: #7f8c8d; font-size: 1.2em; grid-column: 1 / -1; }
@media (max-width: 768px) { .words-grid { grid-template-columns: 1fr; gap: 15px; } .word-image { height: 180px; } }
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>🇰🇷 글자 놀이 🎵</h1>
        <p>아이들이 찍은 사진으로 단어 카드를 만들어요!</p>
    </div>

    <div class="upload-section">
        <div class="upload-group">
            <h3>📷 단어 사진 선택</h3>
            <div class="file-input-wrapper">
                <input type="file" id="imageInput" class="file-input" accept="image/*">
                <div class="file-input-button">📸 사진 선택하기</div>
            </div>
        </div>
        <button id="addWordBtn" class="add-word-btn">➕ 단어 카드 만들기</button>
    </div>

    <div class="words-display">
        <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">🎯 우리가 만든 애국가 단어 카드</h2>
        <div id="wordsGrid" class="words-grid">
            <div class="empty-state">
                <p>아직 만든 카드가 없어요.<br>위에서 첫 번째 단어 카드를 만들어주세요! 😊</p>
            </div>
        </div>
    </div>
</div>

<script>
let wordsData = [];
const imageInput = document.getElementById('imageInput');
const addWordBtn = document.getElementById('addWordBtn');
const wordsGrid = document.getElementById('wordsGrid');

// 이미지 선택 버튼 텍스트 변경
imageInput.addEventListener('change', function(e){
    const button = this.parentElement.querySelector('.file-input-button');
    if(e.target.files.length > 0){
        button.textContent = `📸 ${e.target.files[0].name}`;
        button.style.background = '#27ae60';
    }
});

// 카드 생성
addWordBtn.addEventListener('click', function(){
    const imageFile = imageInput.files[0];
    if(!imageFile){
        alert('사진을 선택해주세요!');
        return;
    }
    const imageUrl = URL.createObjectURL(imageFile);
    const wordData = {
        id: Date.now(),
        text: imageFile.name.replace(/\.[^/.]+$/, ""), // 파일명에서 확장자 제거
        imageUrl: imageUrl
    };
    wordsData.push(wordData);
    displayWords();
    imageInput.value = '';
    imageInput.parentElement.querySelector('.file-input-button').textContent = '📸 사진 선택하기';
    imageInput.parentElement.querySelector('.file-input-button').style.background = '#3498db';
});

// 카드 표시
function displayWords(){
    if(wordsData.length === 0){
        wordsGrid.innerHTML = `<div class="empty-state"><p>아직 만든 카드가 없어요.<br>위에서 첫 번째 단어 카드를 만들어주세요! 😊</p></div>`;
        return;
    }
    wordsGrid.innerHTML = wordsData.map(word => `
        <div class="word-card">
            <img src="${word.imageUrl}" alt="${word.text}" class="word-image">
            <div class="word-title">${word.text}</div>
            <button class="delete-btn" onclick="event.stopPropagation(); deleteWord(${word.id});">🗑️</button>
        </div>
    `).join('');
}

// 카드 삭제
function deleteWord(id){
    if(confirm('이 단어 카드를 삭제하시겠습니까?')){
        wordsData = wordsData.filter(word => word.id !== id);
        displayWords();
    }
}
</script>
</body>
</html>
